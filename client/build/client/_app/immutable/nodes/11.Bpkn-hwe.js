import{s as ue,j as de,k as $e,c as pe,o as ge,d as ee,n as ae}from"../chunks/scheduler.CIMAALbM.js";import{S as me,i as ve,E as he,e as _,m as H,s as S,c as y,a as C,n as L,f as q,d as l,k as g,z as F,g as I,p as N,h as $,q as M,r as O,u as Q,t as U,b as J,o as ne,x as fe,j as se,v as _e,w as ye}from"../chunks/index.C_4Wf81m.js";import{g as be}from"../chunks/entry.BzTCOnGv.js";import{T as K}from"../chunks/Typography.CGqJ6g-J.js";/* empty css                                                 */import{M as ke}from"../chunks/Modal.Bs2leUiq.js";import{L as we}from"../chunks/Loading.3FVNZOzM.js";import{H as Ce}from"../chunks/Highlight.CdkQ49gN.js";import{B as Ie}from"../chunks/BigBusinessCorp.hPeNaoyE.js";import{Q as De}from"../chunks/Qr.DH0mf5bM.js";import{a as ce,h as te,g as je}from"../chunks/flows.store.CwedO0gp.js";import{a as Be}from"../chunks/axios.utils.CBg6898K.js";import{c as Ve}from"../chunks/ws.util.Xs4-1jf2.js";import{C as Ee}from"../chunks/Confetti.C__lBfn_.js";function Se(o){let e;return{c(){e=U("Big Business Corp")},l(t){e=J(t,"Big Business Corp")},m(t,s){I(t,e,s)},d(t){t&&l(e)}}}function qe(o){let e=o[1]?"You have accepted the following credential:":"Big Business Corp Staff ID",t;return{c(){t=U(e)},l(s){t=J(s,e)},m(s,a){I(s,t,a)},p(s,a){a&2&&e!==(e=s[1]?"You have accepted the following credential:":"Big Business Corp Staff ID")&&se(t,e)},d(s){s&&l(t)}}}function Me(o){let e,t,s,a,u;return e=new De({props:{data:o[2],size:200}}),a=new we({props:{size:"30px",img:"/imgs/blue-loading.png"}}),{c(){H(e.$$.fragment),t=S(),s=_("div"),H(a.$$.fragment),this.h()},l(n){L(e.$$.fragment,n),t=q(n),s=y(n,"DIV",{class:!0});var m=C(s);L(a.$$.fragment,m),m.forEach(l),this.h()},h(){g(s,"class","loading svelte-10jyki1")},m(n,m){N(e,n,m),I(n,t,m),I(n,s,m),N(a,s,null),u=!0},p(n,m){const r={};m&4&&(r.data=n[2]),e.$set(r)},i(n){u||(M(e.$$.fragment,n),M(a.$$.fragment,n),u=!0)},o(n){O(e.$$.fragment,n),O(a.$$.fragment,n),u=!1},d(n){n&&(l(t),l(s)),Q(e,n),Q(a)}}}function Oe(o){let e,t,s,a,u="Continue",n,m;return{c(){e=_("img"),s=S(),a=_("button"),a.textContent=u,this.h()},l(r){e=y(r,"IMG",{class:!0,src:!0,alt:!0}),s=q(r),a=y(r,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(a)!=="svelte-1vke5b9"&&(a.textContent=u),this.h()},h(){g(e,"class","checked svelte-10jyki1"),ee(e.src,t="/imgs/check-circle.png")||g(e,"src",t),g(e,"alt",""),g(a,"class","button svelte-10jyki1")},m(r,v){I(r,e,v),I(r,s,v),I(r,a,v),n||(m=fe(a,"click",o[4]),n=!0)},p:ae,i:ae,o:ae,d(r){r&&(l(e),l(s),l(a)),n=!1,m()}}}function Te(o){let e=o[1]?"Click continue to proceed":"Awaiting on confirmation",t;return{c(){t=U(e)},l(s){t=J(s,e)},m(s,a){I(s,t,a)},p(s,a){a&2&&e!==(e=s[1]?"Click continue to proceed":"Awaiting on confirmation")&&se(t,e)},d(s){s&&l(t)}}}function Ye(o){let e,t,s,a,u,n,m,r,v,T,p,D=o[1]?"Big Business Corp Staff ID":"In your mobile wallet scan the QR and accept the credential from Big Business Corp.",w,E,d,b,R,j,c,f;n=new K({props:{color:"--white-300",variant:"card-header",$$slots:{default:[Se]},$$scope:{ctx:o}}}),v=new K({props:{variant:"card-header",color:"--bbc-blue",$$slots:{default:[qe]},$$scope:{ctx:o}}});const B=[Oe,Me],V=[];function z(i,k){return i[1]?0:i[2]?1:-1}return~(d=z(o))&&(b=V[d]=B[d](o)),c=new K({props:{variant:"sub-text",$$slots:{default:[Te]},$$scope:{ctx:o}}}),{c(){e=_("div"),t=_("img"),a=S(),u=_("div"),H(n.$$.fragment),m=S(),r=_("div"),H(v.$$.fragment),T=S(),p=_("div"),w=U(D),E=S(),b&&b.c(),R=S(),j=_("div"),H(c.$$.fragment),this.h()},l(i){e=y(i,"DIV",{class:!0});var k=C(e);t=y(k,"IMG",{src:!0,alt:!0,class:!0}),a=q(k),u=y(k,"DIV",{class:!0});var A=C(u);L(n.$$.fragment,A),A.forEach(l),k.forEach(l),m=q(i),r=y(i,"DIV",{class:!0});var G=C(r);L(v.$$.fragment,G),T=q(G),p=y(G,"DIV",{class:!0});var W=C(p);w=J(W,D),W.forEach(l),E=q(G),b&&b.l(G),R=q(G),j=y(G,"DIV",{class:!0});var h=C(j);L(c.$$.fragment,h),h.forEach(l),G.forEach(l),this.h()},h(){ee(t.src,s="/imgs/bbc.png")||g(t,"src",s),g(t,"alt",""),g(t,"class","logo svelte-10jyki1"),g(u,"class","logo-text svelte-10jyki1"),g(e,"class","modal-header svelte-10jyki1"),g(p,"class","p svelte-10jyki1"),g(j,"class","subtext svelte-10jyki1"),g(r,"class","modal-content svelte-10jyki1")},m(i,k){I(i,e,k),$(e,t),$(e,a),$(e,u),N(n,u,null),I(i,m,k),I(i,r,k),N(v,r,null),$(r,T),$(r,p),$(p,w),$(r,E),~d&&V[d].m(r,null),$(r,R),$(r,j),N(c,j,null),f=!0},p(i,k){const A={};k&256&&(A.$$scope={dirty:k,ctx:i}),n.$set(A);const G={};k&258&&(G.$$scope={dirty:k,ctx:i}),v.$set(G),(!f||k&2)&&D!==(D=i[1]?"Big Business Corp Staff ID":"In your mobile wallet scan the QR and accept the credential from Big Business Corp.")&&se(w,D);let W=d;d=z(i),d===W?~d&&V[d].p(i,k):(b&&(_e(),O(V[W],1,1,()=>{V[W]=null}),ye()),~d?(b=V[d],b?b.p(i,k):(b=V[d]=B[d](i),b.c()),M(b,1),b.m(r,R)):b=null);const h={};k&258&&(h.$$scope={dirty:k,ctx:i}),c.$set(h)},i(i){f||(M(n.$$.fragment,i),M(v.$$.fragment,i),M(b),M(c.$$.fragment,i),f=!0)},o(i){O(n.$$.fragment,i),O(v.$$.fragment,i),O(b),O(c.$$.fragment,i),f=!1},d(i){i&&(l(e),l(m),l(r)),Q(n),Q(v),~d&&V[d].d(),Q(c)}}}function ze(o){let e;return{c(){e=U("You’ve got the job! Congratulations,")},l(t){e=J(t,"You’ve got the job! Congratulations,")},m(t,s){I(t,e,s)},d(t){t&&l(e)}}}function Ge(o){let e,t,s;return e=new Ce({props:{$$slots:{default:[ze]},$$scope:{ctx:o}}}),{c(){H(e.$$.fragment),t=U(` Big Business Corp now wants to issue
			you with your staff ID.`)},l(a){L(e.$$.fragment,a),t=J(a,` Big Business Corp now wants to issue
			you with your staff ID.`)},m(a,u){N(e,a,u),I(a,t,u),s=!0},p(a,u){const n={};u&256&&(n.$$scope={dirty:u,ctx:a}),e.$set(n)},i(a){s||(M(e.$$.fragment,a),s=!0)},o(a){O(e.$$.fragment,a),s=!1},d(a){a&&l(t),Q(e,a)}}}function He(o){let e;return{c(){e=U("Click the get staff ID button to receive your staff ID credential from Big Business Corp.")},l(t){e=J(t,"Click the get staff ID button to receive your staff ID credential from Big Business Corp.")},m(t,s){I(t,e,s)},d(t){t&&l(e)}}}function Le(o){let e;return{c(){e=U("Dominique Veritas")},l(t){e=J(t,"Dominique Veritas")},m(t,s){I(t,e,s)},d(t){t&&l(e)}}}function Ne(o){let e=te[o[3]].name+"",t;return{c(){t=U(e)},l(s){t=J(s,e)},m(s,a){I(s,t,a)},p(s,a){a&8&&e!==(e=te[s[3]].name+"")&&se(t,e)},d(s){s&&l(t)}}}function Qe(o){let e;return{c(){e=U(`Big Business Corp would like to welcome you to the team and send you the following
							credential:`)},l(t){e=J(t,`Big Business Corp would like to welcome you to the team and send you the following
							credential:`)},m(t,s){I(t,e,s)},d(t){t&&l(e)}}}function Re(o){let e;return{c(){e=U("Big Business Corp Staff ID")},l(t){e=J(t,"Big Business Corp Staff ID")},m(t,s){I(t,e,s)},d(t){t&&l(e)}}}function Ae(o){let e,t,s,a,u,n,m,r,v,T,p='<div class="bar svelte-10jyki1"></div> <div class="bar svelte-10jyki1"></div> <div class="bar svelte-10jyki1"></div>',D,w,E,d,b,R,j,c,f,B,V,z,i,k="Get Staff ID",A,G,W;return r=new K({props:{variant:"card-header",color:"--bbc-blue",$$slots:{default:[Le]},$$scope:{ctx:o}}}),d=new K({props:{variant:"card-header",color:"--bbc-blue",$$slots:{default:[Ne]},$$scope:{ctx:o}}}),j=new K({props:{$$slots:{default:[Qe]},$$scope:{ctx:o}}}),B=new K({props:{variant:"list",$$slots:{default:[Re]},$$scope:{ctx:o}}}),{c(){e=_("div"),t=_("div"),s=_("img"),u=S(),n=_("div"),m=_("div"),H(r.$$.fragment),v=S(),T=_("div"),T.innerHTML=p,D=S(),w=_("div"),E=_("div"),H(d.$$.fragment),b=S(),R=_("div"),H(j.$$.fragment),c=S(),f=_("div"),H(B.$$.fragment),V=S(),z=_("div"),i=_("button"),i.textContent=k,this.h()},l(h){e=y(h,"DIV",{class:!0});var Y=C(e);t=y(Y,"DIV",{class:!0});var X=C(t);s=y(X,"IMG",{src:!0,alt:!0,class:!0}),u=q(X),n=y(X,"DIV",{class:!0});var Z=C(n);m=y(Z,"DIV",{class:!0});var x=C(m);L(r.$$.fragment,x),x.forEach(l),v=q(Z),T=y(Z,"DIV",{class:!0,"data-svelte-h":!0}),ne(T)!=="svelte-nrfuj7"&&(T.innerHTML=p),Z.forEach(l),X.forEach(l),D=q(Y),w=y(Y,"DIV",{class:!0});var P=C(w);E=y(P,"DIV",{class:!0});var re=C(E);L(d.$$.fragment,re),re.forEach(l),b=q(P),R=y(P,"DIV",{class:!0});var ie=C(R);L(j.$$.fragment,ie),ie.forEach(l),c=q(P),f=y(P,"DIV",{class:!0});var oe=C(f);L(B.$$.fragment,oe),oe.forEach(l),V=q(P),z=y(P,"DIV",{class:!0});var le=C(z);i=y(le,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(i)!=="svelte-z0nhax"&&(i.textContent=k),le.forEach(l),P.forEach(l),Y.forEach(l),this.h()},h(){ee(s.src,a=te[o[3]].img)||g(s,"src",a),g(s,"alt",""),g(s,"class","svelte-10jyki1"),g(m,"class","heading svelte-10jyki1"),g(T,"class","bars svelte-10jyki1"),g(n,"class","details"),g(t,"class","left svelte-10jyki1"),g(E,"class","heading svelte-10jyki1"),g(R,"class","sub-text svelte-10jyki1"),g(f,"class","list svelte-10jyki1"),g(i,"class","button svelte-10jyki1"),g(z,"class","button-container svelte-10jyki1"),g(w,"class","right svelte-10jyki1"),g(e,"class","card svelte-10jyki1")},m(h,Y){I(h,e,Y),$(e,t),$(t,s),$(t,u),$(t,n),$(n,m),N(r,m,null),$(n,v),$(n,T),$(e,D),$(e,w),$(w,E),N(d,E,null),$(w,b),$(w,R),N(j,R,null),$(w,c),$(w,f),N(B,f,null),$(w,V),$(w,z),$(z,i),A=!0,G||(W=fe(i,"click",o[6]),G=!0)},p(h,Y){(!A||Y&8&&!ee(s.src,a=te[h[3]].img))&&g(s,"src",a);const X={};Y&256&&(X.$$scope={dirty:Y,ctx:h}),r.$set(X);const Z={};Y&264&&(Z.$$scope={dirty:Y,ctx:h}),d.$set(Z);const x={};Y&256&&(x.$$scope={dirty:Y,ctx:h}),j.$set(x);const P={};Y&256&&(P.$$scope={dirty:Y,ctx:h}),B.$set(P)},i(h){A||(M(r.$$.fragment,h),M(d.$$.fragment,h),M(j.$$.fragment,h),M(B.$$.fragment,h),A=!0)},o(h){O(r.$$.fragment,h),O(d.$$.fragment,h),O(j.$$.fragment,h),O(B.$$.fragment,h),A=!1},d(h){h&&l(e),Q(r),Q(d),Q(j),Q(B),G=!1,W()}}}function Pe(o){let e,t,s,a,u,n,m,r,v,T,p,D,w,E,d,b;function R(c){o[5](c)}let j={withoutPadding:!0,borderRadius:16,$$slots:{default:[Ye]},$$scope:{ctx:o}};return o[0]!==void 0&&(j.isOpen=o[0]),t=new ke({props:j}),de.push(()=>he(t,"isOpen",R)),n=new K({props:{variant:"heading",$$slots:{default:[Ge]},$$scope:{ctx:o}}}),v=new K({props:{$$slots:{default:[He]},$$scope:{ctx:o}}}),D=new Ee({props:{x:[-5,5],y:[0,.1],delay:[500,5e3],duration:"2000",amount:"500",fallDistance:"100vh"}}),d=new Ie({props:{heading:"Congratulations! You got the job",$$slots:{default:[Ae]},$$scope:{ctx:o}}}),{c(){e=_("div"),H(t.$$.fragment),a=S(),u=_("div"),H(n.$$.fragment),m=S(),r=_("div"),H(v.$$.fragment),T=S(),p=_("div"),H(D.$$.fragment),w=S(),E=_("div"),H(d.$$.fragment),this.h()},l(c){e=y(c,"DIV",{class:!0});var f=C(e);L(t.$$.fragment,f),a=q(f),u=y(f,"DIV",{class:!0});var B=C(u);L(n.$$.fragment,B),B.forEach(l),m=q(f),r=y(f,"DIV",{class:!0});var V=C(r);L(v.$$.fragment,V),V.forEach(l),T=q(f),p=y(f,"DIV",{style:!0,class:!0});var z=C(p);L(D.$$.fragment,z),z.forEach(l),w=q(f),E=y(f,"DIV",{class:!0});var i=C(E);L(d.$$.fragment,i),i.forEach(l),f.forEach(l),this.h()},h(){g(u,"class","heading svelte-10jyki1"),g(r,"class","sub-text svelte-10jyki1"),F(p,"position","fixed"),F(p,"top","-50px"),F(p,"left","0"),F(p,"height","100vh"),F(p,"width","100vw"),F(p,"display","flex"),F(p,"justify-content","center"),F(p,"overflow","hidden"),F(p,"pointer-events","none"),g(p,"class","svelte-10jyki1"),g(E,"class","dash svelte-10jyki1"),g(e,"class","container svelte-10jyki1")},m(c,f){I(c,e,f),N(t,e,null),$(e,a),$(e,u),N(n,u,null),$(e,m),$(e,r),N(v,r,null),$(e,T),$(e,p),N(D,p,null),$(e,w),$(e,E),N(d,E,null),b=!0},p(c,[f]){const B={};f&262&&(B.$$scope={dirty:f,ctx:c}),!s&&f&1&&(s=!0,B.isOpen=c[0],$e(()=>s=!1)),t.$set(B);const V={};f&256&&(V.$$scope={dirty:f,ctx:c}),n.$set(V);const z={};f&256&&(z.$$scope={dirty:f,ctx:c}),v.$set(z);const i={};f&265&&(i.$$scope={dirty:f,ctx:c}),d.$set(i)},i(c){b||(M(t.$$.fragment,c),M(n.$$.fragment,c),M(v.$$.fragment,c),M(D.$$.fragment,c),M(d.$$.fragment,c),b=!0)},o(c){O(t.$$.fragment,c),O(n.$$.fragment,c),O(v.$$.fragment,c),O(D.$$.fragment,c),O(d.$$.fragment,c),b=!1},d(c){c&&l(e),Q(t),Q(n),Q(v),Q(D),Q(d)}}}function Ue(o,e,t){let s;pe(o,je,p=>t(3,s=p));let a=!1,u=!1,n;ge(async()=>{ce.set(4);const{data:p}=await Be.post("/api/credential-offer",{credential:"Staff ID",issuer:"bbc"});t(2,n=p.uri)});const m=Ve();m.onmessage=p=>{JSON.parse(p.data).creds&&(ce.set(5),t(1,u=!0))};const r=()=>be("/demo/journeys/dominique/job-secured");function v(p){a=p,t(0,a)}return[a,u,n,s,r,v,()=>{t(0,a=!0)}]}class ot extends me{constructor(e){super(),ve(this,e,Ue,Pe,ue,{})}}export{ot as component};
