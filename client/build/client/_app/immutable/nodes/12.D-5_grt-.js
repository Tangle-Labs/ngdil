import{s as pe,k as he,l as be,c as oe,o as ye,d as ae,n as le}from"../chunks/scheduler.BSbnpsnJ.js";import{S as qe,i as we,F as je,e as h,m as G,s as B,c as b,a as j,n as U,f as H,d as i,k as $,z as X,g as E,p as P,h as _,q as L,r as N,u as Q,H as ke,A as re,E as Ee,t as A,b as F,j as J,o as Ie,y as ve,v as $e,w as ge,G as te}from"../chunks/index.CHa0mS77.js";import{g as De}from"../chunks/entry.dRRcpOW3.js";import{B as Ve}from"../chunks/BigBusinessCorp.BAiwpTtc.js";import{$ as Ce}from"../chunks/runtime.T3TU12bC.js";/* empty css                                                            */import{T as Y}from"../chunks/Typography.hOQtM-ml.js";import{L as Me}from"../chunks/Loading.B17qSDmq.js";import{M as Oe}from"../chunks/Modal.DGa-GgHy.js";import{i as ne,g as Te,h as Be,a as He}from"../chunks/flows.store.DMURw1eI.js";import{a as Le}from"../chunks/axios.utils.Dn6T8Bpt.js";import{C as Ne}from"../chunks/Confetti.CROvxKFq.js";import"../chunks/index.MNzK6mZV.js";import{h as _e}from"../chunks/highlight.Cec1JXTB.js";function Se(r){let e=r[3]("components.big_business_corp")+"",s;return{c(){s=A(e)},l(t){s=F(t,e)},m(t,a){E(t,s,a)},p(t,a){a&8&&e!==(e=t[3]("components.big_business_corp")+"")&&J(s,e)},d(t){t&&i(s)}}}function ze(r){let e=(r[2]?r[3]("journeys.dominique.accepted_following_cred"):r[3]("creds.bbc_staff_id"))+"",s;return{c(){s=A(e)},l(t){s=F(t,e)},m(t,a){E(t,s,a)},p(t,a){a&12&&e!==(e=(t[2]?t[3]("journeys.dominique.accepted_following_cred"):t[3]("creds.bbc_staff_id"))+"")&&J(s,e)},d(t){t&&i(s)}}}function Ge(r){let e=r[0],s,t,a=me(r);return{c(){a.c(),s=re()},l(o){a.l(o),s=re()},m(o,n){a.m(o,n),E(o,s,n),t=!0},p(o,n){n&1&&pe(e,e=o[0])?($e(),N(a,1,1,le),ge(),a=me(o),a.c(),L(a,1),a.m(s.parentNode,s)):a.p(o,n)},i(o){t||(L(a),t=!0)},o(o){N(a),t=!1},d(o){o&&i(s),a.d(o)}}}function Ue(r){let e,s,t,a,o=r[3]("components.continue")+"",n,m,f;return{c(){e=h("img"),t=B(),a=h("button"),n=A(o),this.h()},l(u){e=b(u,"IMG",{class:!0,src:!0,alt:!0}),t=H(u),a=b(u,"BUTTON",{class:!0});var y=j(a);n=F(y,o),y.forEach(i),this.h()},h(){$(e,"class","checked svelte-c4u7v8"),ae(e.src,s="/imgs/check-circle.png")||$(e,"src",s),$(e,"alt",""),$(a,"class","button svelte-c4u7v8")},m(u,y){E(u,e,y),E(u,t,y),E(u,a,y),_(a,n),m||(f=ve(a,"click",r[6]),m=!0)},p(u,y){y&8&&o!==(o=u[3]("components.continue")+"")&&J(n,o)},i:le,o:le,d(u){u&&(i(e),i(t),i(a)),m=!1,f()}}}function me(r){let e,s,t,a,o;return a=new Me({props:{size:"30px",img:"/imgs/blue-loading.png"}}),{c(){e=h("open-id-qr"),s=B(),t=h("div"),G(a.$$.fragment),this.h()},l(n){e=b(n,"OPEN-ID-QR",{"request-uri":!0,"event-stream-uri":!0,size:!0,class:!0}),j(e).forEach(i),s=H(n),t=b(n,"DIV",{class:!0});var m=j(t);U(a.$$.fragment,m),m.forEach(i),this.h()},h(){te(e,"request-uri",r[0]),te(e,"event-stream-uri",r[4]),te(e,"size",200),te(e,"class","svelte-c4u7v8"),$(t,"class","loading svelte-c4u7v8")},m(n,m){E(n,e,m),E(n,s,m),E(n,t,m),P(a,t,null),o=!0},p(n,m){(!o||m&1)&&te(e,"request-uri",n[0]),(!o||m&16)&&te(e,"event-stream-uri",n[4])},i(n){o||(L(a.$$.fragment,n),o=!0)},o(n){N(a.$$.fragment,n),o=!1},d(n){n&&(i(e),i(s),i(t)),Q(a)}}}function Pe(r){let e=(r[2]?r[3]("journeys.dominique.click_to_proceed"):r[3]("journeys.dominique.awaiting_confirmation"))+"",s;return{c(){s=A(e)},l(t){s=F(t,e)},m(t,a){E(t,s,a)},p(t,a){a&12&&e!==(e=(t[2]?t[3]("journeys.dominique.click_to_proceed"):t[3]("journeys.dominique.awaiting_confirmation"))+"")&&J(s,e)},d(t){t&&i(s)}}}function Qe(r){let e,s,t,a,o,n,m,f,u,y,g,I=(r[2]?r[3]("creds.bbc_staff_id"):r[3]("journeys.dominique.scan_qr_accept_cred_from_bbc"))+"",v,D,p,q,z,V,c,d;n=new Y({props:{color:"--white-300",variant:"card-header",$$slots:{default:[Se]},$$scope:{ctx:r}}}),u=new Y({props:{variant:"card-header",color:"--bbc-blue",$$slots:{default:[ze]},$$scope:{ctx:r}}});const C=[Ue,Ge],M=[];function S(l,w){return l[2]?0:l[0]?1:-1}return~(p=S(r))&&(q=M[p]=C[p](r)),c=new Y({props:{variant:"sub-text",$$slots:{default:[Pe]},$$scope:{ctx:r}}}),{c(){e=h("div"),s=h("img"),a=B(),o=h("div"),G(n.$$.fragment),m=B(),f=h("div"),G(u.$$.fragment),y=B(),g=h("div"),v=A(I),D=B(),q&&q.c(),z=B(),V=h("div"),G(c.$$.fragment),this.h()},l(l){e=b(l,"DIV",{class:!0});var w=j(e);s=b(w,"IMG",{src:!0,alt:!0,class:!0}),a=H(w),o=b(w,"DIV",{class:!0});var K=j(o);U(n.$$.fragment,K),K.forEach(i),w.forEach(i),m=H(l),f=b(l,"DIV",{class:!0});var O=j(f);U(u.$$.fragment,O),y=H(O),g=b(O,"DIV",{class:!0});var W=j(g);v=F(W,I),W.forEach(i),D=H(O),q&&q.l(O),z=H(O),V=b(O,"DIV",{class:!0});var Z=j(V);U(c.$$.fragment,Z),Z.forEach(i),O.forEach(i),this.h()},h(){ae(s.src,t="/imgs/bbc.png")||$(s,"src",t),$(s,"alt",""),$(s,"class","logo svelte-c4u7v8"),$(o,"class","logo-text svelte-c4u7v8"),$(e,"class","modal-header svelte-c4u7v8"),$(g,"class","p svelte-c4u7v8"),$(V,"class","subtext svelte-c4u7v8"),$(f,"class","modal-content svelte-c4u7v8")},m(l,w){E(l,e,w),_(e,s),_(e,a),_(e,o),P(n,o,null),E(l,m,w),E(l,f,w),P(u,f,null),_(f,y),_(f,g),_(g,v),_(f,D),~p&&M[p].m(f,null),_(f,z),_(f,V),P(c,V,null),d=!0},p(l,w){const K={};w&1032&&(K.$$scope={dirty:w,ctx:l}),n.$set(K);const O={};w&1036&&(O.$$scope={dirty:w,ctx:l}),u.$set(O),(!d||w&12)&&I!==(I=(l[2]?l[3]("creds.bbc_staff_id"):l[3]("journeys.dominique.scan_qr_accept_cred_from_bbc"))+"")&&J(v,I);let W=p;p=S(l),p===W?~p&&M[p].p(l,w):(q&&($e(),N(M[W],1,1,()=>{M[W]=null}),ge()),~p?(q=M[p],q?q.p(l,w):(q=M[p]=C[p](l),q.c()),L(q,1),q.m(f,z)):q=null);const Z={};w&1036&&(Z.$$scope={dirty:w,ctx:l}),c.$set(Z)},i(l){d||(L(n.$$.fragment,l),L(u.$$.fragment,l),L(q),L(c.$$.fragment,l),d=!0)},o(l){N(n.$$.fragment,l),N(u.$$.fragment,l),N(q),N(c.$$.fragment,l),d=!1},d(l){l&&(i(e),i(m),i(f)),Q(n),Q(u),~p&&M[p].d(),Q(c)}}}function Re(r){let e,s=_e(r[3]("journeys.dominique.got_job_bbc_issued_staff_id"))+"",t;return{c(){e=new ke(!1),t=re(),this.h()},l(a){e=Ee(a,!1),t=re(),this.h()},h(){e.a=t},m(a,o){e.m(s,a,o),E(a,t,o)},p(a,o){o&8&&s!==(s=_e(a[3]("journeys.dominique.got_job_bbc_issued_staff_id"))+"")&&e.p(s)},d(a){a&&(i(t),e.d())}}}function Ae(r){let e=r[3]("journeys.dominique.get_staff_id_btn_desc")+"",s;return{c(){s=A(e)},l(t){s=F(t,e)},m(t,a){E(t,s,a)},p(t,a){a&8&&e!==(e=t[3]("journeys.dominique.get_staff_id_btn_desc")+"")&&J(s,e)},d(t){t&&i(s)}}}function Fe(r){let e=r[3]("onboarding.choose_journey.dominique_veritas")+"",s;return{c(){s=A(e)},l(t){s=F(t,e)},m(t,a){E(t,s,a)},p(t,a){a&8&&e!==(e=t[3]("onboarding.choose_journey.dominique_veritas")+"")&&J(s,e)},d(t){t&&i(s)}}}function Je(r){let e=ne[r[5]].name+"",s;return{c(){s=A(e)},l(t){s=F(t,e)},m(t,a){E(t,s,a)},p(t,a){a&32&&e!==(e=ne[t[5]].name+"")&&J(s,e)},d(t){t&&i(s)}}}function Ke(r){let e=r[3]("journeys.dominique.bbc_welcomes_to_team_and_send_cred")+"",s;return{c(){s=A(e)},l(t){s=F(t,e)},m(t,a){E(t,s,a)},p(t,a){a&8&&e!==(e=t[3]("journeys.dominique.bbc_welcomes_to_team_and_send_cred")+"")&&J(s,e)},d(t){t&&i(s)}}}function We(r){let e=r[3]("creds.bbc_staff_id")+"",s;return{c(){s=A(e)},l(t){s=F(t,e)},m(t,a){E(t,s,a)},p(t,a){a&8&&e!==(e=t[3]("creds.bbc_staff_id")+"")&&J(s,e)},d(t){t&&i(s)}}}function Xe(r){let e,s,t,a,o,n,m,f,u,y,g='<div class="bar svelte-c4u7v8"></div> <div class="bar svelte-c4u7v8"></div> <div class="bar svelte-c4u7v8"></div>',I,v,D,p,q,z,V,c,d,C,M,S,l,w=r[3]("journeys.dominique.get_staff_id")+"",K,O,W,Z;return f=new Y({props:{variant:"card-header",color:"--bbc-blue",$$slots:{default:[Fe]},$$scope:{ctx:r}}}),p=new Y({props:{variant:"card-header",color:"--bbc-blue",$$slots:{default:[Je]},$$scope:{ctx:r}}}),V=new Y({props:{$$slots:{default:[Ke]},$$scope:{ctx:r}}}),C=new Y({props:{variant:"list",$$slots:{default:[We]},$$scope:{ctx:r}}}),{c(){e=h("div"),s=h("div"),t=h("img"),o=B(),n=h("div"),m=h("div"),G(f.$$.fragment),u=B(),y=h("div"),y.innerHTML=g,I=B(),v=h("div"),D=h("div"),G(p.$$.fragment),q=B(),z=h("div"),G(V.$$.fragment),c=B(),d=h("div"),G(C.$$.fragment),M=B(),S=h("div"),l=h("button"),K=A(w),this.h()},l(k){e=b(k,"DIV",{class:!0});var T=j(e);s=b(T,"DIV",{class:!0});var x=j(s);t=b(x,"IMG",{src:!0,alt:!0,class:!0}),o=H(x),n=b(x,"DIV",{class:!0});var ee=j(n);m=b(ee,"DIV",{class:!0});var se=j(m);U(f.$$.fragment,se),se.forEach(i),u=H(ee),y=b(ee,"DIV",{class:!0,"data-svelte-h":!0}),Ie(y)!=="svelte-nrfuj7"&&(y.innerHTML=g),ee.forEach(i),x.forEach(i),I=H(T),v=b(T,"DIV",{class:!0});var R=j(v);D=b(R,"DIV",{class:!0});var ie=j(D);U(p.$$.fragment,ie),ie.forEach(i),q=H(R),z=b(R,"DIV",{class:!0});var ce=j(z);U(V.$$.fragment,ce),ce.forEach(i),c=H(R),d=b(R,"DIV",{class:!0});var ue=j(d);U(C.$$.fragment,ue),ue.forEach(i),M=H(R),S=b(R,"DIV",{class:!0});var fe=j(S);l=b(fe,"BUTTON",{class:!0});var de=j(l);K=F(de,w),de.forEach(i),fe.forEach(i),R.forEach(i),T.forEach(i),this.h()},h(){ae(t.src,a=ne[r[5]].img)||$(t,"src",a),$(t,"alt",""),$(t,"class","svelte-c4u7v8"),$(m,"class","heading svelte-c4u7v8"),$(y,"class","bars svelte-c4u7v8"),$(n,"class","details"),$(s,"class","left svelte-c4u7v8"),$(D,"class","heading svelte-c4u7v8"),$(z,"class","sub-text svelte-c4u7v8"),$(d,"class","list svelte-c4u7v8"),$(l,"class","button svelte-c4u7v8"),$(S,"class","button-container svelte-c4u7v8"),$(v,"class","right svelte-c4u7v8"),$(e,"class","card svelte-c4u7v8")},m(k,T){E(k,e,T),_(e,s),_(s,t),_(s,o),_(s,n),_(n,m),P(f,m,null),_(n,u),_(n,y),_(e,I),_(e,v),_(v,D),P(p,D,null),_(v,q),_(v,z),P(V,z,null),_(v,c),_(v,d),P(C,d,null),_(v,M),_(v,S),_(S,l),_(l,K),O=!0,W||(Z=ve(l,"click",r[8]),W=!0)},p(k,T){(!O||T&32&&!ae(t.src,a=ne[k[5]].img))&&$(t,"src",a);const x={};T&1032&&(x.$$scope={dirty:T,ctx:k}),f.$set(x);const ee={};T&1056&&(ee.$$scope={dirty:T,ctx:k}),p.$set(ee);const se={};T&1032&&(se.$$scope={dirty:T,ctx:k}),V.$set(se);const R={};T&1032&&(R.$$scope={dirty:T,ctx:k}),C.$set(R),(!O||T&8)&&w!==(w=k[3]("journeys.dominique.get_staff_id")+"")&&J(K,w)},i(k){O||(L(f.$$.fragment,k),L(p.$$.fragment,k),L(V.$$.fragment,k),L(C.$$.fragment,k),O=!0)},o(k){N(f.$$.fragment,k),N(p.$$.fragment,k),N(V.$$.fragment,k),N(C.$$.fragment,k),O=!1},d(k){k&&i(e),Q(f),Q(p),Q(V),Q(C),W=!1,Z()}}}function Ye(r){let e,s,t,a,o,n,m,f,u,y,g,I,v,D,p,q;function z(c){r[7](c)}let V={withoutPadding:!0,borderRadius:16,$$slots:{default:[Qe]},$$scope:{ctx:r}};return r[1]!==void 0&&(V.isOpen=r[1]),s=new Oe({props:V}),he.push(()=>je(s,"isOpen",z)),n=new Y({props:{variant:"heading",$$slots:{default:[Re]},$$scope:{ctx:r}}}),u=new Y({props:{$$slots:{default:[Ae]},$$scope:{ctx:r}}}),I=new Ne({props:{x:[-5,5],y:[0,.1],delay:[500,5e3],duration:2e3,amount:500,fallDistance:"100vh"}}),p=new Ve({props:{heading:r[3]("journeys.dominique.congrats_you_got_the_job"),$$slots:{default:[Xe]},$$scope:{ctx:r}}}),{c(){e=h("div"),G(s.$$.fragment),a=B(),o=h("div"),G(n.$$.fragment),m=B(),f=h("div"),G(u.$$.fragment),y=B(),g=h("div"),G(I.$$.fragment),v=B(),D=h("div"),G(p.$$.fragment),this.h()},l(c){e=b(c,"DIV",{class:!0});var d=j(e);U(s.$$.fragment,d),a=H(d),o=b(d,"DIV",{class:!0});var C=j(o);U(n.$$.fragment,C),C.forEach(i),m=H(d),f=b(d,"DIV",{class:!0});var M=j(f);U(u.$$.fragment,M),M.forEach(i),y=H(d),g=b(d,"DIV",{style:!0,class:!0});var S=j(g);U(I.$$.fragment,S),S.forEach(i),v=H(d),D=b(d,"DIV",{class:!0});var l=j(D);U(p.$$.fragment,l),l.forEach(i),d.forEach(i),this.h()},h(){$(o,"class","heading svelte-c4u7v8"),$(f,"class","sub-text svelte-c4u7v8"),X(g,"position","fixed"),X(g,"top","-50px"),X(g,"left","0"),X(g,"height","100vh"),X(g,"width","100vw"),X(g,"display","flex"),X(g,"justify-content","center"),X(g,"overflow","hidden"),X(g,"pointer-events","none"),$(g,"class","svelte-c4u7v8"),$(D,"class","dash svelte-c4u7v8"),$(e,"class","container svelte-c4u7v8")},m(c,d){E(c,e,d),P(s,e,null),_(e,a),_(e,o),P(n,o,null),_(e,m),_(e,f),P(u,f,null),_(e,y),_(e,g),P(I,g,null),_(e,v),_(e,D),P(p,D,null),q=!0},p(c,[d]){const C={};d&1053&&(C.$$scope={dirty:d,ctx:c}),!t&&d&2&&(t=!0,C.isOpen=c[1],be(()=>t=!1)),s.$set(C);const M={};d&1032&&(M.$$scope={dirty:d,ctx:c}),n.$set(M);const S={};d&1032&&(S.$$scope={dirty:d,ctx:c}),u.$set(S);const l={};d&8&&(l.heading=c[3]("journeys.dominique.congrats_you_got_the_job")),d&1066&&(l.$$scope={dirty:d,ctx:c}),p.$set(l)},i(c){q||(L(s.$$.fragment,c),L(n.$$.fragment,c),L(u.$$.fragment,c),L(I.$$.fragment,c),L(p.$$.fragment,c),q=!0)},o(c){N(s.$$.fragment,c),N(n.$$.fragment,c),N(u.$$.fragment,c),N(I.$$.fragment,c),N(p.$$.fragment,c),q=!1},d(c){c&&i(e),Q(s),Q(n),Q(u),Q(I),Q(p)}}}function Ze(r,e,s){let t,a,o;oe(r,Ce,v=>s(3,t=v)),oe(r,Te,v=>s(4,a=v)),oe(r,Be,v=>s(5,o=v));function n(v){v&&document.addEventListener("open-id-qr-success",D=>{D.detail.type==="vc"&&s(2,f=!0)})}let m=!1,f=!1,u;ye(async()=>{He.set(4);const{data:v}=await Le.post("/api/credential-offer",{credential:"Staff ID",issuer:"bbc"});s(0,u=v.uri)});const y=()=>De("/demo/journeys/dominique/job-secured");function g(v){m=v,s(1,m)}const I=()=>{s(1,m=!0)};return r.$$.update=()=>{r.$$.dirty&1&&n(u)},[u,m,f,t,a,o,y,g,I]}class _t extends qe{constructor(e){super(),we(this,e,Ze,Ye,pe,{})}}export{_t as component};
